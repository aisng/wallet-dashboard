<h1>Ethereum Dashboard</h1>

<%= form_with url: dashboard_index_path, method: :post, data: { turbo_frame: "result" } do |form| %>
  <div>
    <%= form.label :wallet_address, "EVM Wallet Address:" %><br>
    <%= form.text_field :wallet_address, size: 42 %>
  </div>

  <div style="margin-top: 10px;">
    <%= form.label :chain, "Select Chain:" %><br>
    <%= form.select :chain, @available_chains, { selected: @selected_chain } %>
  </div>

  <div style="margin-top: 10px;">
    <%= form.check_box :testnet, {}, "true", "false" %>
    <%= form.label :testnet, "Use Testnet" %>
  </div>

  <div style="margin-top: 20px;">
    <% @rpc_methods.each do |method| %>
      <%= form.submit method[:label], name: "rpc_method", value: method[:action_type] %>
    <% end %>
  </div>
<% end %>

<turbo-frame id="result">
  <% if @result.present? %>
    <h2>Result:</h2>
    <pre><%= h @result %></pre>
  <% end %>
</turbo-frame>
